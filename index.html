<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ì´ˆë“±í•™ìƒì„ ìœ„í•œ ì‰½ê³  ì¬ë¯¸ìˆëŠ” í•œ ì¤„ ìš”ì•½ í•™ìŠµì§€ì…ë‹ˆë‹¤. ì˜¤ëŠ˜ ë°°ìš´ ê²ƒì„ ì¹œêµ¬ë“¤ì—ê²Œ ì•Œë ¤ì£¼ëŠ” ë©‹ì§„ ë¬¸ì¥ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”!">
    <title>âœ¨ ë‚˜ë§Œì˜ í•œ ì¤„ ìš”ì•½ ë§Œë“¤ê¸° - ì´ˆë“±í•™ìƒìš©</title>
    <style>
        * {
            box-sizing: border-box;
        }
        
        :root {
            --primary-color: #ff6b6b;
            --primary-dark: #ff5252;
            --secondary-color: #4ecdc4;
            --success-color: #4caf50;
            --warning-color: #ffc107;
            --danger-color: #f44336;
            --purple-color: #9c27b0;
            --orange-color: #ff9800;
            --light-bg: #fff8f0;
            --border-color: #ffcccb;
            --text-color: #333;
            --text-muted: #666;
            --focus-color: rgba(255, 107, 107, 0.3);
        }
        
        body {
            font-family: 'Comic Sans MS', 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', cursive, sans-serif;
            line-height: 1.7;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--text-color);
            min-height: 100vh;
        }
        
        /* ë°°ê²½ ì• ë‹ˆë©”ì´ì…˜ */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="80" r="1.5" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="60" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="70" cy="30" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="10" cy="70" r="1.5" fill="rgba(255,255,255,0.1)"/></svg>') repeat;
            animation: twinkle 3s ease-in-out infinite alternate;
            pointer-events: none;
            z-index: -1;
        }
        
        @keyframes twinkle {
            0% { opacity: 0.3; }
            100% { opacity: 0.8; }
        }
        
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: var(--primary-color);
            color: white;
            padding: 8px 16px;
            text-decoration: none;
            border-radius: 20px;
            z-index: 1001;
            font-weight: bold;
            font-size: 16px;
        }
        
        .skip-link:focus {
            top: 6px;
        }
        
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }
        
        .container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,107,107,0.1), transparent);
            animation: shine 4s ease-in-out infinite;
            pointer-events: none;
        }
        
        @keyframes shine {
            0%, 100% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            50% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            z-index: 1;
        }
        
        header h1 {
            font-size: 2.2em;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color), var(--purple-color));
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: rainbow 3s ease-in-out infinite;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        @keyframes rainbow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .subtitle {
            font-size: 1.2em;
            color: var(--text-muted);
            margin-bottom: 20px;
        }
        
        .fun-instruction {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            border: 3px solid var(--orange-color);
            text-align: center;
            font-size: 1.1em;
            font-weight: bold;
            color: #d84315;
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);
        }
        
        .step-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border: 3px solid;
            position: relative;
            overflow: hidden;
        }
        
        .step-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color), var(--purple-color));
        }
        
        .step1 { 
            border-color: var(--secondary-color);
            background: linear-gradient(135deg, #e8f5e8 0%, #f1f8e9 100%);
        }
        .step2 { 
            border-color: var(--primary-color);
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
        }
        .step3 { 
            border-color: var(--purple-color);
            background: linear-gradient(135deg, #e17055 0%, #d63031 100%);
            color: white;
        }
        
        .step-title {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .step1 .step-title { color: #2d5a2d; }
        .step2 .step-title { color: #b33939; }
        .step3 .step-title { color: white; }
        
        .step-icon {
            font-size: 1.8em;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .input-group {
            margin-bottom: 20px;
            position: relative;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            font-size: 1.1em;
            color: inherit;
        }
        
        .input-group input[type="text"],
        .input-group textarea {
            width: 100%;
            padding: 15px;
            border: 3px solid var(--border-color);
            border-radius: 15px;
            font-size: 1.1em;
            font-family: inherit;
            transition: all 0.3s ease;
            background: white;
        }
        
        .input-group input:focus,
        .input-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px var(--focus-color);
            background: #fffef7;
            transform: scale(1.02);
        }
        
        .input-group textarea {
            resize: vertical;
            min-height: 100px;
            line-height: 1.6;
        }
        
        .topic-input {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border-color: var(--secondary-color) !important;
        }
        
        .headline-input {
            background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
            color: white !important;
            border-color: var(--primary-color) !important;
            font-weight: bold;
            text-align: center;
            font-size: 1.3em !important;
        }
        
        .headline-input::placeholder {
            color: rgba(255,255,255,0.8);
        }
        
        /* ë™ì  í•„ë“œ ê´€ë ¨ ìŠ¤íƒ€ì¼ */
        .key-ideas-container {
            position: relative;
        }
        
        .dynamic-input-group {
            position: relative;
            margin-bottom: 15px;
            padding-right: 60px;
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .remove-field-btn {
            position: absolute;
            right: 10px;
            top: 45px;
            background: var(--danger-color);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            font-weight: bold;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(244, 67, 54, 0.4);
        }
        
        .remove-field-btn:hover {
            background: #d32f2f;
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 6px 20px rgba(244, 67, 54, 0.6);
        }
        
        .add-field-btn {
            background: linear-gradient(135deg, var(--success-color) 0%, #66bb6a 100%);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            transition: all 0.3s ease;
            margin: 15px 0;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }
        
        .add-field-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.6);
        }
        
        .add-field-btn:disabled {
            background: var(--text-muted);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .field-removing {
            animation: slideOut 0.5s ease-in forwards;
        }
        
        @keyframes slideOut {
            from {
                opacity: 1;
                transform: translateY(0) scale(1);
                max-height: 100px;
            }
            to {
                opacity: 0;
                transform: translateY(-20px) scale(0.9);
                max-height: 0;
                margin-bottom: 0;
                padding-bottom: 0;
            }
        }
        
        .tip-box {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            font-size: 1.05em;
            box-shadow: 0 6px 20px rgba(116, 185, 255, 0.4);
            border: 3px solid #0984e3;
        }
        
        .button-group {
            margin-top: 30px;
            text-align: center;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }
        
        .action-btn {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            padding: 18px 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            border-radius: 25px;
            transition: all 0.3s ease;
            min-width: 180px;
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
            position: relative;
            overflow: hidden;
        }
        
        .action-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .action-btn:hover::before {
            left: 100%;
        }
        
        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.6);
        }
        
        .reset-btn {
            background: linear-gradient(135deg, var(--text-muted) 0%, #757575 100%);
        }
        
        .reset-btn:hover {
            box-shadow: 0 8px 25px rgba(117, 117, 117, 0.6);
        }
        
        .teacher-zone {
            margin-top: 40px;
            padding: 25px;
            background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);
            border-radius: 20px;
            color: white;
            box-shadow: 0 10px 30px rgba(162, 155, 254, 0.4);
        }
        
        .teacher-zone h2 {
            font-size: 1.3em;
            margin-bottom: 15px;
            margin-top: 0;
        }
        
        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .loading-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            max-width: 300px;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 20px;
            }
            
            header h1 {
                font-size: 1.8em;
            }
            
            .step-title {
                font-size: 1.3em;
            }
            
            .action-btn {
                min-width: 100%;
                margin: 8px 0;
            }
            
            .dynamic-input-group {
                padding-right: 50px;
            }
            
            .remove-field-btn {
                width: 35px;
                height: 35px;
                font-size: 18px;
                right: 8px;
                top: 40px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                margin: 5px;
                padding: 15px;
            }
            
            header h1 {
                font-size: 1.5em;
            }
            
            .step-title {
                font-size: 1.1em;
            }
            
            .input-group input,
            .input-group textarea {
                padding: 12px;
                font-size: 16px; /* iOS zoom ë°©ì§€ */
            }
        }
        
        /* ì ‘ê·¼ì„± */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        @media (prefers-contrast: high) {
            .step-section,
            .input-group input,
            .input-group textarea,
            .action-btn {
                border-width: 4px;
            }
        }
        
        /* í”„ë¦°íŠ¸ ìŠ¤íƒ€ì¼ */
        @media print {
            body {
                background: white;
                color: black;
            }
            
            .button-group,
            .teacher-zone,
            .add-field-btn,
            .remove-field-btn {
                display: none;
            }
            
            .container {
                box-shadow: none;
                margin: 0;
                padding: 0;
            }
            
            .step-section {
                border: 2px solid #000;
                background: white !important;
                color: black !important;
            }
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">ë³¸ë¬¸ìœ¼ë¡œ ë°”ë¡œê°€ê¸°</a>
    
    <div class="loading" id="loadingIndicator" role="status" aria-live="polite">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p><strong>ë©‹ì§„ ìš”ì•½ì„ ë§Œë“¤ê³  ìˆì–´ìš”!</strong><br>ì¡°ê¸ˆë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš” ğŸ˜Š</p>
        </div>
    </div>

    <div class="container">
        <header>
            <h1 id="main-title">âœ¨ ë‚˜ë§Œì˜ í•œ ì¤„ ìš”ì•½ ë§Œë“¤ê¸°</h1>
            <p class="subtitle">ì˜¤ëŠ˜ ë°°ìš´ ê²ƒì„ ì¹œêµ¬ë“¤ì—ê²Œ ì•Œë ¤ì£¼ëŠ” ë©‹ì§„ ë¬¸ì¥ì„ ë§Œë“¤ì–´ë³´ì! ğŸŒŸ</p>
        </header>

        <main id="main-content">
            <div class="fun-instruction">
                ğŸ¯ <strong>ì´ë ‡ê²Œ í•´ë³´ì!</strong><br>
                ì˜¤ëŠ˜ ë°°ìš´ ê²ƒ ì¤‘ì—ì„œ ì¤‘ìš”í•˜ê³  ì¬ë¯¸ìˆì—ˆë˜ ê²ƒë“¤ì„ ì°¾ì•„ì„œ,<br>
                ì¹œêµ¬ë“¤ì—ê²Œ ê¼­ ì•Œë ¤ì£¼ê³  ì‹¶ì€ ë©‹ì§„ í•œ ë¬¸ì¥ì„ ë§Œë“¤ì–´ë³´ì! ğŸš€
            </div>

            <div class="input-group">
                <label for="topic">ğŸ“š ì˜¤ëŠ˜ ë¬´ì—‡ì„ ë°°ì› ë‚˜ìš”? <span style="color: red;">(ê¼­ ì¨ì£¼ì„¸ìš”)</span></label>
                <input type="text" id="topic" class="topic-input" placeholder="ì˜ˆ: ë‚˜ë¹„ì˜ í•œì‚´ì´, ìš°ë¦¬ ë™ë„¤ ê°€ê²Œë“¤, ë§ì…ˆê³¼ ëº„ì…ˆ" aria-describedby="topic-help" required>
                <div id="topic-help" class="sr-only">ì˜¤ëŠ˜ ë°°ìš´ ì£¼ì œë¥¼ ì¨ì£¼ì„¸ìš”</div>
            </div>

            <section class="step-section step1" aria-labelledby="step1-title">
                <h2 class="step-title" id="step1-title">
                    <span class="step-icon">ğŸ”</span>
                    1ë‹¨ê³„: ì¤‘ìš”í•œ ê²ƒë“¤ ì°¾ì•„ë³´ê¸°
                </h2>
                
                <div id="keyIdeasContainer" class="key-ideas-container" role="group" aria-labelledby="step1-title">
                    <div class="input-group">
                        <label for="keyIdea1">ğŸŒŸ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ë°°ìš´ ê²ƒ: <span style="color: red;">(ê¼­ ì¨ì£¼ì„¸ìš”)</span></label>
                        <input type="text" id="keyIdea1" placeholder="ì˜¤ëŠ˜ ë°°ìš´ ê²ƒ ì¤‘ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒ" aria-describedby="key1-help" required>
                        <div id="key1-help" class="sr-only">ì²« ë²ˆì§¸ë¡œ ì¤‘ìš”í•œ ê²ƒì„ ì¨ì£¼ì„¸ìš”</div>
                    </div>
                    
                    <div class="input-group">
                        <label for="keyIdea2">âœ¨ ê°€ì¥ ì‹ ê¸°í–ˆë˜ ê²ƒ: <span style="color: red;">(ê¼­ ì¨ì£¼ì„¸ìš”)</span></label>
                        <input type="text" id="keyIdea2" placeholder="ì˜¤ëŠ˜ ë°°ìš´ ê²ƒ ì¤‘ì—ì„œ ê°€ì¥ ì‹ ê¸°í–ˆë˜ ê²ƒ" aria-describedby="key2-help" required>
                        <div id="key2-help" class="sr-only">ë‘ ë²ˆì§¸ë¡œ ì¤‘ìš”í•œ ê²ƒì„ ì¨ì£¼ì„¸ìš”</div>
                    </div>
                </div>
                
                <button type="button" class="add-field-btn" id="addKeyIdeaBtn" aria-describedby="add-field-help">
                    <span>â•</span> ë” ì¶”ê°€í•˜ê¸°!
                </button>
                <div id="add-field-help" class="sr-only">ë” ì¤‘ìš”í•œ ê²ƒì´ ìˆë‹¤ë©´ ì¶”ê°€í•´ë³´ì„¸ìš”. ìµœëŒ€ 8ê°œê¹Œì§€ ê°€ëŠ¥í•´ìš”.</div>
            </section>

            <section class="step-section step2" aria-labelledby="step2-title">
                <h2 class="step-title" id="step2-title">
                    <span class="step-icon">âœï¸</span>
                    2ë‹¨ê³„: ë©‹ì§„ í•œ ì¤„ ìš”ì•½ ë§Œë“¤ê¸°
                </h2>
                <div class="input-group">
                    <label for="myHeadline">ğŸ¤ ì¹œêµ¬ë“¤ì—ê²Œ ì•Œë ¤ì£¼ê³  ì‹¶ì€ í•œ ë¬¸ì¥: <span style="color: red;">(ê¼­ ì¨ì£¼ì„¸ìš”)</span></label>
                    <input type="text" id="myHeadline" class="headline-input" placeholder="ì˜¤ëŠ˜ ë°°ìš´ ê²ƒì„ í•œ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•´ë³´ì!" aria-describedby="headline-help" required>
                    <div id="headline-help" class="sr-only">ì˜¤ëŠ˜ ë°°ìš´ ê²ƒì„ í•œ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•´ë³´ì„¸ìš”</div>
                </div>
                <div class="tip-box">
                    <strong>ğŸ’¡ í•œ ì¤„ ìš”ì•½ ë§Œë“œëŠ” íŒ!</strong><br>
                    âœ“ ì§§ê³  ì‰½ê²Œ ì¨ë³´ì<br>
                    âœ“ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì„ ë„£ì<br>
                    âœ“ ì¹œêµ¬ë“¤ì´ ë“£ê³  "ì™€~ ì‹ ê¸°í•˜ë‹¤!" í•  ìˆ˜ ìˆê²Œ ì¨ë³´ì
                </div>
            </section>

            <section class="step-section step3" aria-labelledby="step3-title">
                <h2 class="step-title" id="step3-title">
                    <span class="step-icon">ğŸ’­</span>
                    3ë‹¨ê³„: ì™œ ì´ë ‡ê²Œ ì¼ëŠ”ì§€ ë§í•´ë³´ê¸°
                </h2>
                <div class="input-group">
                    <label for="reason">ğŸ¤” ì™œ ì´ ë¬¸ì¥ì„ ì„ íƒí–ˆë‚˜ìš”? <span style="color: red;">(ê¼­ ì¨ì£¼ì„¸ìš”)</span></label>
                    <textarea id="reason" rows="4" placeholder="ì´ í•œ ì¤„ ìš”ì•½ì´ ì¢‹ì€ ì´ìœ ë¥¼ ì¨ë³´ì„¸ìš”. ì˜ˆ: ê°€ì¥ ì‹ ê¸°í–ˆê³ , ì¹œêµ¬ë“¤ë„ ì•Œë©´ ì¬ë¯¸ìˆì„ ê²ƒ ê°™ì•„ì„œ..." aria-describedby="reason-help" required></textarea>
                    <div id="reason-help" class="sr-only">ì™œ ì´ ë¬¸ì¥ì„ ì„ íƒí–ˆëŠ”ì§€ ì¨ë³´ì„¸ìš”</div>
                </div>
                
                <div class="input-group">
                    <label for="audienceMessage">ğŸ‘« ì¹œêµ¬ë“¤ì´ ë¬´ì—‡ì„ ì•Œê²Œ ë˜ì—ˆìœ¼ë©´ ì¢‹ê² ë‚˜ìš”? <span style="color: red;">(ê¼­ ì¨ì£¼ì„¸ìš”)</span></label>
                    <textarea id="audienceMessage" rows="4" placeholder="ë‚´ í•œ ì¤„ ìš”ì•½ì„ ë“£ê³  ì¹œêµ¬ë“¤ì´ ì–´ë–¤ ìƒê°ì„ í–ˆìœ¼ë©´ ì¢‹ê² ëŠ”ì§€ ì¨ë³´ì„¸ìš”..." aria-describedby="audience-help" required></textarea>
                    <div id="audience-help" class="sr-only">ì¹œêµ¬ë“¤ì´ ì•Œê²Œ ë˜ì—ˆìœ¼ë©´ í•˜ëŠ” ê²ƒì„ ì¨ë³´ì„¸ìš”</div>
                </div>
            </section>

            <div class="button-group" role="group" aria-label="ë‚´ ì‘í’ˆ ì €ì¥í•˜ê¸°">
                <button id="saveImageBtn" type="button" class="action-btn" aria-describedby="save-image-help">
                    ğŸ“¸ ì‚¬ì§„ìœ¼ë¡œ ì €ì¥í•˜ê¸°
                </button>
                <div id="save-image-help" class="sr-only">ë‚´ê°€ ë§Œë“  í•œ ì¤„ ìš”ì•½ì„ ì‚¬ì§„ìœ¼ë¡œ ì €ì¥í•´ìš”</div>
                
                <button id="savePdfBtn" type="button" class="action-btn" aria-describedby="save-pdf-help">
                    ğŸ“„ PDFë¡œ ì €ì¥í•˜ê¸°
                </button>
                <div id="save-pdf-help" class="sr-only">ë‚´ê°€ ë§Œë“  í•œ ì¤„ ìš”ì•½ì„ PDF íŒŒì¼ë¡œ ì €ì¥í•´ìš”</div>
                
                <button id="resetBtn" type="button" class="action-btn reset-btn" aria-describedby="reset-help">
                    ğŸ”„ ë‹¤ì‹œ ë§Œë“¤ê¸°
                </button>
                <div id="reset-help" class="sr-only">ëª¨ë“  ë‚´ìš©ì„ ì§€ìš°ê³  ìƒˆë¡œ ì‹œì‘í•´ìš”</div>
            </div>

            <section class="teacher-zone" role="region" aria-labelledby="teacher-title">
                <h2 id="teacher-title">ğŸ‘©â€ğŸ« ì„ ìƒë‹˜ì„ ìœ„í•œ ë„êµ¬</h2>
                <p>í•™ìƒë“¤ì—ê²Œ ë‚˜ëˆ„ì–´ì¤„ ë¹ˆ í•™ìŠµì§€ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì–´ìš”! ğŸ“‹</p>
                <button id="downloadBlankTemplateBtn" type="button" class="action-btn" aria-describedby="blank-template-help">
                    ğŸ“‹ ë¹ˆ í•™ìŠµì§€ ë‹¤ìš´ë¡œë“œ
                </button>
                <div id="blank-template-help" class="sr-only">í•™ìƒë“¤ì—ê²Œ ë‚˜ëˆ„ì–´ì¤„ ë¹ˆ í•™ìŠµì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•´ìš”</div>
            </section>
        </main>
    </div>

    <!-- ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <script>
        // ì „ì—­ ë³€ìˆ˜ ë° ì„¤ì •
        let isFormValid = false;
        let keyIdeaCounter = 2; // ì´ë¯¸ 1, 2ê°€ ìˆìœ¼ë¯€ë¡œ 3ë¶€í„° ì‹œì‘
        const MAX_KEY_IDEAS = 8; // ì´ˆë“±í•™ìƒìš©ì€ 8ê°œë¡œ ì œí•œ
        
        // DOM ìš”ì†Œ ìºì‹±
        const elements = {
            topicInput: document.getElementById('topic'),
            keyIdea1: document.getElementById('keyIdea1'),
            keyIdea2: document.getElementById('keyIdea2'),
            keyIdeasContainer: document.getElementById('keyIdeasContainer'),
            addKeyIdeaBtn: document.getElementById('addKeyIdeaBtn'),
            myHeadline: document.getElementById('myHeadline'),
            reason: document.getElementById('reason'),
            audienceMessage: document.getElementById('audienceMessage'),
            saveImageBtn: document.getElementById('saveImageBtn'),
            savePdfBtn: document.getElementById('savePdfBtn'),
            resetBtn: document.getElementById('resetBtn'),
            downloadBlankTemplateBtn: document.getElementById('downloadBlankTemplateBtn'),
            loadingIndicator: document.getElementById('loadingIndicator')
        };

        // ì´ˆê¸°í™”
        function init() {
            setupEventListeners();
            setupFormValidation();
            setupDynamicFields();
            setupAccessibility();
            
            // ì´ˆê¸° í¬ì»¤ìŠ¤ ì„¤ì •
            elements.topicInput.focus();
            updateAddButtonState();
            
            console.log('ì´ˆë“±í•™ìƒìš© í•œ ì¤„ ìš”ì•½ í•™ìŠµì§€ ì´ˆê¸°í™” ì™„ë£Œ');
        }

        // ë™ì  í•„ë“œ ì„¤ì •
        function setupDynamicFields() {
            elements.addKeyIdeaBtn.addEventListener('click', addKeyIdeaField);
            updateAddButtonState();
        }

        // í•µì‹¬ ì•„ì´ë””ì–´ í•„ë“œ ì¶”ê°€
        function addKeyIdeaField() {
            if (keyIdeaCounter >= MAX_KEY_IDEAS) {
                announceToScreenReader('ìµœëŒ€ 8ê°œê¹Œì§€ë§Œ ì¶”ê°€í•  ìˆ˜ ìˆì–´ìš”!', 'assertive');
                return;
            }

            keyIdeaCounter++;
            const fieldId = `keyIdea${keyIdeaCounter}`;
            
            // ì¬ë¯¸ìˆëŠ” ë¼ë²¨ë“¤
            const funLabels = [
                'ğŸˆ ë˜ ë‹¤ë¥¸ ì¬ë¯¸ìˆì—ˆë˜ ê²ƒ:',
                'ğŸŒˆ ë” ë°°ìš°ê³  ì‹¶ì€ ê²ƒ:',
                'â­ ì¹œêµ¬ë“¤ì—ê²Œ ìë‘í•˜ê³  ì‹¶ì€ ê²ƒ:',
                'ğŸ¯ ê°€ì¥ ê¸°ì–µì— ë‚¨ëŠ” ê²ƒ:',
                'ğŸš€ ìƒˆë¡­ê²Œ ì•Œê²Œ ëœ ê²ƒ:',
                'ğŸ’« íŠ¹ë³„í–ˆë˜ ê²ƒ:'
            ];
            
            const labelIndex = Math.min(keyIdeaCounter - 3, funLabels.length - 1);
            const label = funLabels[labelIndex];
            
            // ìƒˆ í•„ë“œ ìƒì„±
            const fieldGroup = document.createElement('div');
            fieldGroup.className = 'input-group dynamic-input-group';
            fieldGroup.setAttribute('data-field-id', keyIdeaCounter);
            
            fieldGroup.innerHTML = `
                <label for="${fieldId}">${label}</label>
                <input type="text" id="${fieldId}" placeholder="ë” ìƒê°ë‚˜ëŠ” ê²ƒì´ ìˆë‹¤ë©´ ì¨ë³´ì„¸ìš”!" aria-describedby="${fieldId}-help">
                <div id="${fieldId}-help" class="sr-only">${keyIdeaCounter}ë²ˆì§¸ë¡œ ì¤‘ìš”í•œ ê²ƒì„ ì¨ë³´ì„¸ìš”</div>
                <button type="button" class="remove-field-btn" aria-label="${keyIdeaCounter}ë²ˆì§¸ í•­ëª© ì‚­ì œ" onclick="removeKeyIdeaField(${keyIdeaCounter})">
                    Ã—
                </button>
            `;
            
            // ì»¨í…Œì´ë„ˆì— ì¶”ê°€
            elements.keyIdeasContainer.appendChild(fieldGroup);
            
            // ìƒˆ í•„ë“œì— í¬ì»¤ìŠ¤
            const newInput = fieldGroup.querySelector('input');
            newInput.focus();
            
            // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            newInput.addEventListener('input', updateFormValidity);
            newInput.addEventListener('blur', validateField);
            newInput.addEventListener('input', clearErrorState);
            
            updateAddButtonState();
            updateFormValidity();
            
            announceToScreenReader(`${keyIdeaCounter}ë²ˆì§¸ í•­ëª©ì´ ì¶”ê°€ë˜ì—ˆì–´ìš”!`);
        }

        // í•µì‹¬ ì•„ì´ë””ì–´ í•„ë“œ ì œê±°
        function removeKeyIdeaField(fieldId) {
            const fieldGroup = document.querySelector(`[data-field-id="${fieldId}"]`);
            if (!fieldGroup) return;
            
            // ì• ë‹ˆë©”ì´ì…˜ê³¼ í•¨ê»˜ ì œê±°
            fieldGroup.classList.add('field-removing');
            
            setTimeout(() => {
                if (fieldGroup.parentNode) {
                    fieldGroup.parentNode.removeChild(fieldGroup);
                    updateAddButtonState();
                    updateFormValidity();
                    announceToScreenReader(`${fieldId}ë²ˆì§¸ í•­ëª©ì´ ì‚­ì œë˜ì—ˆì–´ìš”!`);
                }
            }, 500);
        }

        // ì¶”ê°€ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
        function updateAddButtonState() {
            const currentFieldCount = elements.keyIdeasContainer.querySelectorAll('.input-group').length;
            const dynamicFieldCount = elements.keyIdeasContainer.querySelectorAll('.dynamic-input-group').length;
            
            if (currentFieldCount >= MAX_KEY_IDEAS) {
                elements.addKeyIdeaBtn.disabled = true;
                elements.addKeyIdeaBtn.innerHTML = `<span>âœ“</span> ëª¨ë‘ ${MAX_KEY_IDEAS}ê°œ ì™„ì„±! (${dynamicFieldCount + 2}/${MAX_KEY_IDEAS})`;
                elements.addKeyIdeaBtn.setAttribute('aria-label', 'ìµœëŒ€ ê°œìˆ˜ì— ë„ë‹¬í–ˆì–´ìš”');
            } else {
                elements.addKeyIdeaBtn.disabled = false;
                elements.addKeyIdeaBtn.innerHTML = '<span>â•</span> ë” ì¶”ê°€í•˜ê¸°!';
                elements.addKeyIdeaBtn.setAttribute('aria-label', `ë” ì¶”ê°€í•˜ê¸° (í˜„ì¬ ${dynamicFieldCount + 2}ê°œ)`);
            }
        }

        // ëª¨ë“  í•µì‹¬ ì•„ì´ë””ì–´ í•„ë“œ ê°€ì ¸ì˜¤ê¸°
        function getAllKeyIdeaFields() {
            const fields = [];
            const inputs = elements.keyIdeasContainer.querySelectorAll('input[id^="keyIdea"]');
            inputs.forEach(input => {
                fields.push({
                    id: input.id,
                    value: input.value.trim(),
                    element: input
                });
            });
            return fields;
        }

        // ì ‘ê·¼ì„± ì„¤ì •
        function setupAccessibility() {
            // í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
            document.addEventListener('keydown', handleKeyboardNavigation);
            
            // ARIA live regions ì„¤ì •
            elements.loadingIndicator.setAttribute('aria-live', 'assertive');
            elements.loadingIndicator.setAttribute('aria-atomic', 'true');
            
            // í¼ ìœ íš¨ì„± ê²€ì‚¬ ì‹¤ì‹œê°„ í”¼ë“œë°±
            const requiredFields = [elements.topicInput, elements.keyIdea1, elements.keyIdea2, elements.myHeadline, elements.reason, elements.audienceMessage];
            
            requiredFields.forEach(field => {
                field.addEventListener('blur', validateField);
                field.addEventListener('input', clearErrorState);
            });
        }

        // í¼ ìœ íš¨ì„± ê²€ì‚¬ ì„¤ì •
        function setupFormValidation() {
            const requiredFields = [elements.topicInput, elements.keyIdea1, elements.keyIdea2, elements.myHeadline, elements.reason, elements.audienceMessage];
            
            requiredFields.forEach(field => {
                field.addEventListener('input', updateFormValidity);
            });
        }

        // í•„ë“œ ìœ íš¨ì„± ê²€ì‚¬
        function validateField(event) {
            const field = event.target;
            const value = field.value.trim();
            
            if (field.hasAttribute('required') && !value) {
                field.setAttribute('aria-invalid', 'true');
                field.style.borderColor = 'var(--danger-color)';
                field.style.background = '#ffebee';
                announceToScreenReader(`${field.labels[0].textContent.replace(/\(.*\)/, '')} ì´ ì¹¸ì€ ê¼­ ì¨ì£¼ì„¸ìš”!`);
            } else {
                field.setAttribute('aria-invalid', 'false');
                field.style.borderColor = '';
                field.style.background = '';
            }
        }

        // ì˜¤ë¥˜ ìƒíƒœ ì œê±°
        function clearErrorState(event) {
            const field = event.target;
            if (field.value.trim()) {
                field.setAttribute('aria-invalid', 'false');
                field.style.borderColor = '';
                field.style.background = '';
            }
        }

        // í¼ ìœ íš¨ì„± ì—…ë°ì´íŠ¸
        function updateFormValidity() {
            const staticRequiredFields = [elements.topicInput, elements.keyIdea1, elements.keyIdea2, elements.myHeadline, elements.reason, elements.audienceMessage];
            isFormValid = staticRequiredFields.every(field => field.value.trim().length > 0);
            
            // ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
            elements.saveImageBtn.disabled = !isFormValid;
            elements.savePdfBtn.disabled = !isFormValid;
            
            if (!isFormValid) {
                elements.saveImageBtn.style.opacity = '0.6';
                elements.savePdfBtn.style.opacity = '0.6';
            } else {
                elements.saveImageBtn.style.opacity = '1';
                elements.savePdfBtn.style.opacity = '1';
            }
        }

        // í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
        function handleKeyboardNavigation(e) {
            // Ctrl+Së¡œ ì €ì¥
            if (e.ctrlKey && e.key === 's') {
                e.preventDefault();
                if (isFormValid) {
                    saveAsPDF();
                } else {
                    announceToScreenReader('ë¨¼ì € ëª¨ë“  ë¹¨ê°„ ë³„í‘œ í•­ëª©ì„ ì¨ì£¼ì„¸ìš”!');
                }
            }

            // + í‚¤ë¡œ í•„ë“œ ì¶”ê°€
            if (e.key === '+' && e.target.closest('.key-ideas-container')) {
                e.preventDefault();
                addKeyIdeaField();
            }
        }

        // ìŠ¤í¬ë¦° ë¦¬ë” ì•Œë¦¼
        function announceToScreenReader(message, priority = 'polite') {
            const announcement = document.createElement('div');
            announcement.setAttribute('aria-live', priority);
            announcement.setAttribute('aria-atomic', 'true');
            announcement.className = 'sr-only';
            announcement.textContent = message;
            document.body.appendChild(announcement);
            
            setTimeout(() => {
                if (document.body.contains(announcement)) {
                    document.body.removeChild(announcement);
                }
            }, 1500);
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        function setupEventListeners() {
            elements.saveImageBtn.addEventListener('click', saveAsImage);
            elements.savePdfBtn.addEventListener('click', saveAsPDF);
            elements.resetBtn.addEventListener('click', resetForm);
            elements.downloadBlankTemplateBtn.addEventListener('click', downloadBlankTemplate);
        }

        // ë¡œë”© í‘œì‹œ
        function showLoading(message = 'ë©‹ì§„ ì‘í’ˆì„ ë§Œë“¤ê³  ìˆì–´ìš”...') {
            elements.loadingIndicator.style.display = 'flex';
            elements.loadingIndicator.setAttribute('aria-hidden', 'false');
            elements.loadingIndicator.querySelector('p').innerHTML = `<strong>${message}</strong><br>ì¡°ê¸ˆë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš” ğŸ˜Š`;
            
            // ëª¨ë“  ìƒí˜¸ì‘ìš© ìš”ì†Œ ë¹„í™œì„±í™”
            const interactiveElements = document.querySelectorAll('button, input, textarea, [tabindex]');
            interactiveElements.forEach(el => {
                el.setAttribute('data-was-disabled', el.disabled || el.hasAttribute('disabled'));
                el.disabled = true;
            });
        }

        function hideLoading() {
            elements.loadingIndicator.style.display = 'none';
            elements.loadingIndicator.setAttribute('aria-hidden', 'true');
            
            // ìƒí˜¸ì‘ìš© ìš”ì†Œ ë³µì›
            const interactiveElements = document.querySelectorAll('button, input, textarea, [tabindex]');
            interactiveElements.forEach(el => {
                if (el.getAttribute('data-was-disabled') !== 'true') {
                    el.disabled = false;
                }
                el.removeAttribute('data-was-disabled');
            });
            
            updateFormValidity();
            updateAddButtonState();
        }

        // ì´ë¯¸ì§€ë¡œ ì €ì¥
        async function saveAsImage() {
            if (!isFormValid) {
                announceToScreenReader('ë¹¨ê°„ ë³„í‘œê°€ ìˆëŠ” í•­ëª©ë“¤ì„ ëª¨ë‘ ì¨ì£¼ì„¸ìš”!', 'assertive');
                return;
            }

            try {
                showLoading('ë©‹ì§„ ì‚¬ì§„ì„ ë§Œë“¤ê³  ìˆì–´ìš”...');
                announceToScreenReader('ì‚¬ì§„ì„ ë§Œë“¤ê³  ìˆì–´ìš”!');
                
                const printDiv = createPrintableContent();
                document.body.appendChild(printDiv);
                
                const canvas = await html2canvas(printDiv, {
                    backgroundColor: '#ffffff',
                    scale: 2,
                    useCORS: true,
                    allowTaint: true,
                    width: printDiv.offsetWidth,
                    height: printDiv.offsetHeight,
                    logging: false
                });
                
                document.body.removeChild(printDiv);
                
                const link = document.createElement('a');
                const filename = `ë‚˜ì˜_í•œì¤„ìš”ì•½_${getCurrentDateString()}.png`;
                link.download = filename;
                link.href = canvas.toDataURL('image/png', 1.0);
                link.click();
                
                announceToScreenReader('ì™€! ë©‹ì§„ ì‚¬ì§„ì´ ì €ì¥ë˜ì—ˆì–´ìš”! ğŸ‰');
            } catch (error) {
                console.error('ì´ë¯¸ì§€ ì €ì¥ ì‹¤íŒ¨:', error);
                announceToScreenReader('ì•—! ì‚¬ì§„ ì €ì¥ì— ì‹¤íŒ¨í–ˆì–´ìš”. ë‹¤ì‹œ í•´ë³´ì„¸ìš”.', 'assertive');
            } finally {
                hideLoading();
            }
        }

        // PDFë¡œ ì €ì¥ (HTMLâ†’ì´ë¯¸ì§€â†’PDF ë°©ì‹ìœ¼ë¡œ í•œê¸€ ë¬¸ì œ í•´ê²°)
        async function saveAsPDF() {
            if (!isFormValid) {
                announceToScreenReader('ë¹¨ê°„ ë³„í‘œê°€ ìˆëŠ” í•­ëª©ë“¤ì„ ëª¨ë‘ ì¨ì£¼ì„¸ìš”!', 'assertive');
                return;
            }

            try {
                showLoading('ë©‹ì§„ PDFë¥¼ ë§Œë“¤ê³  ìˆì–´ìš”...');
                announceToScreenReader('PDFë¥¼ ë§Œë“¤ê³  ìˆì–´ìš”!');
                
                // HTML ê¸°ë°˜ ì¶œë ¥ìš© ì½˜í…ì¸  ìƒì„±
                const printDiv = createPrintableContent();
                document.body.appendChild(printDiv);
                
                // HTMLì„ ì´ë¯¸ì§€ë¡œ ë³€í™˜
                const canvas = await html2canvas(printDiv, {
                    backgroundColor: '#ffffff',
                    scale: 2,
                    useCORS: true,
                    allowTaint: true,
                    width: printDiv.offsetWidth,
                    height: printDiv.offsetHeight,
                    logging: false
                });
                
                // ì´ë¯¸ì§€ë¥¼ PDFì— ì¶”ê°€
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF('p', 'mm', 'a4');
                
                const imgData = canvas.toDataURL('image/png', 1.0);
                const imgWidth = 210; // A4 width in mm
                const imgHeight = (canvas.height * imgWidth) / canvas.width;
                
                // A4 ë†’ì´(297mm)ë¥¼ ì´ˆê³¼í•˜ëŠ” ê²½ìš° ìŠ¤ì¼€ì¼ ì¡°ì •
                if (imgHeight > 297) {
                    const scaleFactor = 297 / imgHeight;
                    const scaledWidth = imgWidth * scaleFactor;
                    const scaledHeight = 297;
                    const xOffset = (210 - scaledWidth) / 2; // ì¤‘ì•™ ì •ë ¬
                    pdf.addImage(imgData, 'PNG', xOffset, 0, scaledWidth, scaledHeight);
                } else {
                    pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);
                }
                
                // HTML ìš”ì†Œ ì œê±°
                document.body.removeChild(printDiv);
                
                const filename = `ë‚˜ì˜_í•œì¤„ìš”ì•½_${getCurrentDateString()}.pdf`;
                pdf.save(filename);
                announceToScreenReader('ì™€! ë©‹ì§„ PDFê°€ ì €ì¥ë˜ì—ˆì–´ìš”! ğŸ‰');
            } catch (error) {
                console.error('PDF ì €ì¥ ì‹¤íŒ¨:', error);
                announceToScreenReader('ì•—! PDF ì €ì¥ì— ì‹¤íŒ¨í–ˆì–´ìš”. ë‹¤ì‹œ í•´ë³´ì„¸ìš”.', 'assertive');
            } finally {
                hideLoading();
            }
        }

        // ì¶œë ¥ìš© ì½˜í…ì¸  ìƒì„±
        function createPrintableContent() {
            const printDiv = document.createElement('div');
            printDiv.style.cssText = `
                width: 800px;
                padding: 40px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                font-family: 'Comic Sans MS', 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', cursive, sans-serif;
                color: #fff;
                line-height: 1.6;
                position: absolute;
                left: -9999px;
                top: 0;
                border-radius: 20px;
            `;
            
            // ëª¨ë“  í•µì‹¬ ì•„ì´ë””ì–´ ìˆ˜ì§‘
            const allKeyIdeas = getAllKeyIdeaFields();
            const ideaLabels = [
                'ğŸŒŸ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ë°°ìš´ ê²ƒ:',
                'âœ¨ ê°€ì¥ ì‹ ê¸°í–ˆë˜ ê²ƒ:',
                'ğŸˆ ë˜ ë‹¤ë¥¸ ì¬ë¯¸ìˆì—ˆë˜ ê²ƒ:',
                'ğŸŒˆ ë” ë°°ìš°ê³  ì‹¶ì€ ê²ƒ:',
                'â­ ì¹œêµ¬ë“¤ì—ê²Œ ìë‘í•˜ê³  ì‹¶ì€ ê²ƒ:',
                'ğŸ¯ ê°€ì¥ ê¸°ì–µì— ë‚¨ëŠ” ê²ƒ:',
                'ğŸš€ ìƒˆë¡­ê²Œ ì•Œê²Œ ëœ ê²ƒ:',
                'ğŸ’« íŠ¹ë³„í–ˆë˜ ê²ƒ:'
            ];
            
            const keyIdeasHtml = allKeyIdeas.map((idea, index) => {
                const label = ideaLabels[index] || `${index + 1}.`;
                return `<p style="margin: 0 0 10px 0; padding: 10px; background: rgba(255,255,255,0.1); border-radius: 10px;"><strong>${label}</strong><br>${idea.value || '(ì…ë ¥ë˜ì§€ ì•ŠìŒ)'}</p>`;
            }).join('');
            
            printDiv.innerHTML = `
                <div style="text-align: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 3px solid rgba(255,255,255,0.3);">
                    <h1 style="margin: 0; font-size: 28px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">âœ¨ ë‚˜ë§Œì˜ í•œ ì¤„ ìš”ì•½ âœ¨</h1>
                    <p style="margin: 10px 0 0 0; font-size: 16px; opacity: 0.9;">ğŸ“… ${getCurrentDateString()}</p>
                </div>
                
                <div style="margin-bottom: 25px; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 15px;">
                    <h3 style="color: #fff; margin-bottom: 10px; font-size: 18px;">ğŸ“š ì˜¤ëŠ˜ ë°°ìš´ ê²ƒ</h3>
                    <div style="padding: 15px; background: rgba(255,255,255,0.2); border-radius: 10px; font-size: 16px; font-weight: bold;">
                        ${elements.topicInput.value || '(ì…ë ¥ë˜ì§€ ì•ŠìŒ)'}
                    </div>
                </div>
                
                <div style="margin-bottom: 25px; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 15px;">
                    <h3 style="color: #fff; margin-bottom: 15px; font-size: 18px;">ğŸ” 1ë‹¨ê³„: ì¤‘ìš”í•œ ê²ƒë“¤</h3>
                    <div>
                        ${keyIdeasHtml}
                    </div>
                </div>
                
                <div style="margin-bottom: 25px; padding: 25px; background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%); border-radius: 15px; text-align: center;">
                    <h3 style="color: #fff; margin-bottom: 15px; font-size: 18px;">âœï¸ 2ë‹¨ê³„: ë‚˜ë§Œì˜ í•œ ì¤„ ìš”ì•½</h3>
                    <div style="padding: 20px; background: rgba(255,255,255,0.9); color: #333; border-radius: 10px; font-size: 20px; font-weight: bold; text-shadow: none;">
                        "${elements.myHeadline.value || '(ì…ë ¥ë˜ì§€ ì•ŠìŒ)'}"
                    </div>
                </div>
                
                <div style="padding: 20px; background: rgba(255,255,255,0.1); border-radius: 15px;">
                    <h3 style="color: #fff; margin-bottom: 15px; font-size: 18px;">ğŸ’­ 3ë‹¨ê³„: ë‚´ ìƒê° ë‚˜ëˆ„ê¸°</h3>
                    <div style="margin-bottom: 15px; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 10px;">
                        <p style="margin: 0 0 10px 0; font-weight: bold;">ğŸ¤” ì„ íƒí•œ ì´ìœ :</p>
                        <p style="margin: 0;">${elements.reason.value || '(ì…ë ¥ë˜ì§€ ì•ŠìŒ)'}</p>
                    </div>
                    <div style="padding: 15px; background: rgba(255,255,255,0.1); border-radius: 10px;">
                        <p style="margin: 0 0 10px 0; font-weight: bold;">ğŸ‘« ì¹œêµ¬ë“¤ì´ ì•Œê²Œ ë˜ì—ˆìœ¼ë©´ í•˜ëŠ” ê²ƒ:</p>
                        <p style="margin: 0;">${elements.audienceMessage.value || '(ì…ë ¥ë˜ì§€ ì•ŠìŒ)'}</p>
                    </div>
                </div>
            `;
            
            return printDiv;
        }

        // ë¹ˆ í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ (HTMLâ†’ì´ë¯¸ì§€â†’PDF ë°©ì‹ìœ¼ë¡œ í•œê¸€ ë¬¸ì œ í•´ê²°)
        async function downloadBlankTemplate() {
            try {
                showLoading('ë¹ˆ í•™ìŠµì§€ë¥¼ ë§Œë“¤ê³  ìˆì–´ìš”...');
                announceToScreenReader('ë¹ˆ í•™ìŠµì§€ë¥¼ ë§Œë“¤ê³  ìˆì–´ìš”!');
                
                // HTML ê¸°ë°˜ ë¹ˆ í…œí”Œë¦¿ ìƒì„±
                const blankTemplate = createBlankTemplateHTML();
                document.body.appendChild(blankTemplate);
                
                // HTMLì„ ì´ë¯¸ì§€ë¡œ ë³€í™˜
                const canvas = await html2canvas(blankTemplate, {
                    backgroundColor: '#ffffff',
                    scale: 2,
                    useCORS: true,
                    allowTaint: true,
                    width: blankTemplate.offsetWidth,
                    height: blankTemplate.offsetHeight,
                    logging: false
                });
                
                // ì´ë¯¸ì§€ë¥¼ PDFì— ì¶”ê°€
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF('p', 'mm', 'a4');
                
                const imgData = canvas.toDataURL('image/png');
                const imgWidth = 210; // A4 width in mm
                const imgHeight = (canvas.height * imgWidth) / canvas.width;
                
                pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);
                
                // HTML ìš”ì†Œ ì œê±°
                document.body.removeChild(blankTemplate);
                
                const filename = `ë¹ˆ_í•œì¤„ìš”ì•½_í•™ìŠµì§€_${getCurrentDateString()}.pdf`;
                pdf.save(filename);
                announceToScreenReader('ë¹ˆ í•™ìŠµì§€ê°€ ì €ì¥ë˜ì—ˆì–´ìš”!');
            } catch (error) {
                console.error('ë¹ˆ í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨:', error);
                announceToScreenReader('ë¹ˆ í•™ìŠµì§€ ë‹¤ìš´ë¡œë“œì— ì‹¤íŒ¨í–ˆì–´ìš”. ë‹¤ì‹œ í•´ë³´ì„¸ìš”.', 'assertive');
            } finally {
                hideLoading();
            }
        }

        // ë¹ˆ í…œí”Œë¦¿ HTML ìƒì„± í•¨ìˆ˜ (A4 1í˜ì´ì§€ í’€ì‚¬ì´ì¦ˆ ìµœì í™”)
        function createBlankTemplateHTML() {
            const templateDiv = document.createElement('div');
            templateDiv.style.cssText = `
                width: 800px;
                padding: 20px;
                background: white;
                font-family: 'Comic Sans MS', 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', cursive, sans-serif;
                color: #333;
                line-height: 1.4;
                position: absolute;
                left: -9999px;
                top: 0;
                height: 1120px;
                overflow: hidden;
            `;
            
            templateDiv.innerHTML = `
                <div style="text-align: center; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 2px solid #ff6b6b;">
                    <h1 style="margin: 0; font-size: 22px; color: #ff6b6b; text-shadow: 1px 1px 2px rgba(0,0,0,0.1);">âœ¨ ë‚˜ë§Œì˜ í•œ ì¤„ ìš”ì•½ ë§Œë“¤ê¸° âœ¨</h1>
                    <p style="margin: 5px 0 0 0; font-size: 12px; color: #666;">ğŸ¯ ì˜¤ëŠ˜ ë°°ìš´ ê²ƒì„ ì¹œêµ¬ë“¤ì—ê²Œ ì•Œë ¤ì£¼ëŠ” ë©‹ì§„ í•œ ë¬¸ì¥ì„ ë§Œë“¤ì–´ë³´ì!</p>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <div style="display: flex; justify-content: space-between;">
                        <div style="font-size: 14px;">ğŸ“… ë‚ ì§œ: ________________</div>
                        <div style="font-size: 14px;">âœï¸ ì´ë¦„: ________________</div>
                    </div>
                </div>
                
                <div style="margin-bottom: 15px; padding: 15px; background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); border-radius: 10px; border: 2px solid #4ecdc4;">
                    <h3 style="color: #2d5a2d; margin: 0 0 10px 0; font-size: 16px;">ğŸ“š ì˜¤ëŠ˜ ë¬´ì—‡ì„ ë°°ì› ë‚˜ìš”?</h3>
                    <div style="border: 2px solid #4ecdc4; border-radius: 8px; height: 35px; background: white;">
                        &nbsp;
                    </div>
                </div>
                
                <div style="margin-bottom: 15px; padding: 15px; background: linear-gradient(135deg, #e8f5e8 0%, #f1f8e9 100%); border-radius: 10px; border: 2px solid #4ecdc4;">
                    <h3 style="color: #2d5a2d; margin: 0 0 12px 0; font-size: 16px;">ğŸ” 1ë‹¨ê³„: ì¤‘ìš”í•œ ê²ƒë“¤ ì°¾ì•„ë³´ê¸°</h3>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="font-weight: bold; color: #2d5a2d; font-size: 13px; display: block; margin-bottom: 4px;">ğŸŒŸ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ë°°ìš´ ê²ƒ:</label>
                        <div style="border: 1px solid #4ecdc4; border-radius: 6px; height: 30px; background: white;">
                            &nbsp;
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="font-weight: bold; color: #2d5a2d; font-size: 13px; display: block; margin-bottom: 4px;">âœ¨ ê°€ì¥ ì‹ ê¸°í–ˆë˜ ê²ƒ:</label>
                        <div style="border: 1px solid #4ecdc4; border-radius: 6px; height: 30px; background: white;">
                            &nbsp;
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="font-weight: bold; color: #2d5a2d; font-size: 13px; display: block; margin-bottom: 4px;">ğŸˆ ë” ì¤‘ìš”í•œ ê²ƒ 1:</label>
                        <div style="border: 1px solid #4ecdc4; border-radius: 6px; height: 30px; background: white;">
                            &nbsp;
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="font-weight: bold; color: #2d5a2d; font-size: 13px; display: block; margin-bottom: 4px;">ğŸŒˆ ë” ì¤‘ìš”í•œ ê²ƒ 2:</label>
                        <div style="border: 1px solid #4ecdc4; border-radius: 6px; height: 30px; background: white;">
                            &nbsp;
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 0;">
                        <label style="font-weight: bold; color: #2d5a2d; font-size: 13px; display: block; margin-bottom: 4px;">â­ ë” ì¤‘ìš”í•œ ê²ƒ 3:</label>
                        <div style="border: 1px solid #4ecdc4; border-radius: 6px; height: 30px; background: white;">
                            &nbsp;
                        </div>
                    </div>
                </div>
                
                <div style="margin-bottom: 15px; padding: 15px; background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%); border-radius: 10px; border: 2px solid #ff6b6b;">
                    <h3 style="color: #b33939; margin: 0 0 10px 0; font-size: 16px;">âœï¸ 2ë‹¨ê³„: ë©‹ì§„ í•œ ì¤„ ìš”ì•½ ë§Œë“¤ê¸°</h3>
                    <label style="font-weight: bold; color: #b33939; font-size: 13px; display: block; margin-bottom: 6px;">ğŸ¤ ì¹œêµ¬ë“¤ì—ê²Œ ì•Œë ¤ì£¼ê³  ì‹¶ì€ í•œ ë¬¸ì¥:</label>
                    <div style="border: 2px solid #ff6b6b; border-radius: 10px; height: 45px; background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%); text-align: center; color: white; font-weight: bold; display: flex; align-items: center; justify-content: center;">
                        &nbsp;
                    </div>
                    
                    <div style="margin-top: 10px; background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%); color: white; padding: 10px; border-radius: 6px; font-size: 11px; border: 1px solid #0984e3;">
                        <strong>ğŸ’¡ íŒ!</strong> âœ“ ì§§ê³  ì‰½ê²Œ âœ“ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì„ âœ“ ì¹œêµ¬ë“¤ì´ "ì™€~" í•  ìˆ˜ ìˆê²Œ
                    </div>
                </div>
                
                <div style="padding: 15px; background: linear-gradient(135deg, #e17055 0%, #d63031 100%); border-radius: 10px; border: 2px solid #9c27b0; color: white;">
                    <h3 style="color: white; margin: 0 0 12px 0; font-size: 16px;">ğŸ’­ 3ë‹¨ê³„: ì™œ ì´ë ‡ê²Œ ì¼ëŠ”ì§€ ë§í•´ë³´ê¸°</h3>
                    
                    <div style="margin-bottom: 12px;">
                        <label style="font-weight: bold; color: white; font-size: 13px; display: block; margin-bottom: 4px;">ğŸ¤” ì™œ ì´ ë¬¸ì¥ì„ ì„ íƒí–ˆë‚˜ìš”?</label>
                        <div style="border: 1px solid white; border-radius: 6px; height: 50px; background: rgba(255,255,255,0.9);">
                            &nbsp;
                        </div>
                    </div>
                    
                    <div>
                        <label style="font-weight: bold; color: white; font-size: 13px; display: block; margin-bottom: 4px;">ğŸ‘« ì¹œêµ¬ë“¤ì´ ë¬´ì—‡ì„ ì•Œê²Œ ë˜ì—ˆìœ¼ë©´ ì¢‹ê² ë‚˜ìš”?</label>
                        <div style="border: 1px solid white; border-radius: 6px; height: 50px; background: rgba(255,255,255,0.9);">
                            &nbsp;
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 20px; padding-top: 15px; border-top: 1px solid #ddd;">
                    <p style="margin: 0; font-size: 12px; color: #666; font-style: italic;">ğŸŒŸ ë©‹ì§„ í•œ ì¤„ ìš”ì•½ì„ ë§Œë“¤ì–´ë³´ì! ğŸŒŸ</p>
                </div>
            `;
            
            return templateDiv;
        }

        // í¼ ë¦¬ì…‹
        function resetForm() {
            if (confirm('ëª¨ë“  ë‚´ìš©ì´ ì‚¬ë¼ì ¸ìš”. ì •ë§ ë‹¤ì‹œ ë§Œë“¤ê¹Œìš”? ğŸ¤”')) {
                // ì •ì  í•„ë“œ ì´ˆê¸°í™”
                elements.topicInput.value = '';
                elements.keyIdea1.value = '';
                elements.keyIdea2.value = '';
                elements.myHeadline.value = '';
                elements.reason.value = '';
                elements.audienceMessage.value = '';
                
                // ë™ì  í•„ë“œ ëª¨ë‘ ì œê±°
                const dynamicFields = elements.keyIdeasContainer.querySelectorAll('.dynamic-input-group');
                dynamicFields.forEach(field => {
                    field.remove();
                });
                
                // ì¹´ìš´í„° ì´ˆê¸°í™”
                keyIdeaCounter = 2;
                
                // ì˜¤ë¥˜ ìƒíƒœ ì œê±°
                const allFields = [elements.topicInput, elements.keyIdea1, elements.keyIdea2, elements.myHeadline, elements.reason, elements.audienceMessage];
                allFields.forEach(field => {
                    field.setAttribute('aria-invalid', 'false');
                    field.style.borderColor = '';
                    field.style.background = '';
                });
                
                updateFormValidity();
                updateAddButtonState();
                elements.topicInput.focus();
                announceToScreenReader('ëª¨ë“  ë‚´ìš©ì´ ì´ˆê¸°í™”ë˜ì—ˆì–´ìš”! ë‹¤ì‹œ ì‹œì‘í•´ë³´ì! ğŸš€');
            }
        }

        // í˜„ì¬ ë‚ ì§œ ë¬¸ìì—´ ë°˜í™˜
        function getCurrentDateString() {
            const now = new Date();
            return now.toISOString().split('T')[0];
        }

        // ì „ì—­ í•¨ìˆ˜ë¡œ ë…¸ì¶œ
        window.removeKeyIdeaField = removeKeyIdeaField;

        // ì´ˆê¸°í™” ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
